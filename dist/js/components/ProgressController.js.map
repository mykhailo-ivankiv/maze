{"version":3,"sources":["js/components/ProgressController.js"],"names":[],"mappings":"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","file":"js/components/ProgressController.js","sourcesContent":["import React from \"react\";\nimport BEM from \"utils/BEM\";\nimport {MazeStore, MazeActions} from \"storage/MazeStore\";\n\nvar b = BEM.b(\"progress-controller\");\nvar f = BEM.b(\"form-element\");\n\nclass ProgressController extends React.Component {\n  constructor (pref) {\n    super();\n    this.state = {\n      totalProgress: MazeStore.getTotalProgress(),\n      activeProgress: MazeStore.getActiveProgress(),\n      fullSize: 15\n    };\n  }\n\n  onMazeChange () {\n    this.setState({\n      totalProgress: MazeStore.getTotalProgress(),\n      activeProgress: MazeStore.getActiveProgress()\n    });\n  }\n\n  componentDidMount () {\n    this.unsubscribe = [\n      MazeStore.listen(this.onMazeChange.bind(this))\n    ]\n  }\n\n  componentWillUnmount () {\n    this.unsubscribe.map((fn)=> fn());\n  }\n\n  nextMazeStep () { MazeActions.goToNextRow(); }\n  prevMazeStep () { MazeActions.goToPrevRow(); }\n\n  play() {\n    this.timer = setInterval(() => MazeActions.goToNextRow(), 1500);\n\n    this.setState({play: true})\n  }\n\n  pause() {\n    clearTimeout(this.timer);\n    this.setState({play: false})\n  }\n\n  render () {\n    return (\n      <div className={b()}>\n        <button className={f(\"button\")} onClick = {this.prevMazeStep.bind(this)}><i className=\"fa fa-backward\"/></button>\n\n        {this.state.play\n          ? <button className={f(\"button\")} onClick={this.pause.bind(this)}><i className = \"fa fa-pause\"/></button>\n          : <button className={f(\"button\")} onClick={this.play.bind(this)} ><i className = \"fa fa-play\"/></button>\n        }\n\n        <button className={f(\"button\")} onClick = {this.nextMazeStep.bind(this)}><i className=\"fa fa-forward\"/></button>\n        <br/>\n        <div className={b(\"progress\")}>\n          <div style={{width: ((this.state.totalProgress * 100)/ 15) + \"%\"}} className={b(\"total-progress\")}></div>\n          <div style={{width: ((this.state.activeProgress * 100)/ 15) + \"%\"}} className={b(\"active-position\")}></div>\n        </div>\n      </div>\n    )\n  };\n}\n\nexport default ProgressController;\n"],"sourceRoot":"/source/"}